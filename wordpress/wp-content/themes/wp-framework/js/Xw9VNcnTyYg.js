self.CavalryLogger&&CavalryLogger.start_js(["xPaYi"]),__d("NavigationMetricsEnumJS",[],function(t,e,i,n,r,o){r.exports={NAVIGATION_START:"navigationStart",UNLOAD_EVENT_START:"unloadEventStart",UNLOAD_EVENT_END:"unloadEventEnd",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",CONNECT_END:"connectEnd",SECURE_CONNECTION_START:"secureConnectionStart",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd",DOM_LOADING:"domLoading",DOM_INTERACTIVE:"domInteractive",DOM_CONTENT_LOADED_EVENT_START:"domContentLoadedEventStart",DOM_CONTENT_LOADED_EVENT_END:"domContentLoadedEventEnd",DOM_COMPLETE:"domComplete",LOAD_EVENT_START:"loadEventStart",LOAD_EVENT_END:"loadEventEnd"}},null),__d("PagePluginActions",[],function(t,e,i,n,r,o){r.exports={PAGE_AVATAR:"page_avatar",PAGE_CTA:"page_cta",PAGE_LIKE:"page_like",PAGE_PERMALINK:"page_permalink",PAGE_SHARE:"page_share",PAGE_UNLIKE:"page_unlike"}},null),__d("PagePluginActionTypes",[],function(t,e,i,n,r,o){r.exports={CLICK:"click"}},null),__d("PluginConnectButtonType",[],function(t,e,i,n,r,o){r.exports={BLUE_BASE:1,WHITE_BASE:2}},null),__d("ResourceTimingMetricsEnumJS",[],function(t,e,i,n,r,o){r.exports={START_TIME:"startTime",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",SECURE_CONNECTION_START:"secureConnectionStart",CONNECT_END:"connectEnd",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd"}},null),__d("PlatformDialog",["cx","DOMEventListener","DOMEvent","CSS"],function(t,e,i,n,r,o,s){function a(t,i,n){"use strict";u=this,this.$PlatformDialog1=t,this.$PlatformDialog2=i,this.$PlatformDialog3=!1,e("DOMEventListener").add(this.$PlatformDialog1,"submit",function(i){return this.$PlatformDialog3?void new(e("DOMEvent"))(i).kill():(this.$PlatformDialog3=!0,void(n&&e("CSS").addClass(t,"_32qa")))}.bind(this))}var u;a.getInstance=function(){"use strict";return u},a.prototype.getForm=function(){"use strict";return this.$PlatformDialog1},a.prototype.getDisplay=function(){"use strict";return this.$PlatformDialog2},a.prototype.hasBeenSubmitted=function(){"use strict";return this.$PlatformDialog3},a.RESPONSE="platform/dialog/response",r.exports=a},null),__d("PluginLoggedOutUserTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(t,e,i,n,r,o){"use strict";function s(){this.clear()}s.prototype.log=function(){e("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$PluginLoggedOutUserTypedLogger1,e("Banzai").BASIC)},s.prototype.logVital=function(){e("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$PluginLoggedOutUserTypedLogger1,e("Banzai").VITAL)},s.prototype.clear=function(){return this.$PluginLoggedOutUserTypedLogger1={},this},s.prototype.updateData=function(t){return this.$PluginLoggedOutUserTypedLogger1=babelHelpers["extends"]({},this.$PluginLoggedOutUserTypedLogger1,t),this},s.prototype.setHref=function(t){return this.$PluginLoggedOutUserTypedLogger1.href=t,this},s.prototype.setIsSDK=function(t){return this.$PluginLoggedOutUserTypedLogger1.is_sdk=t,this},s.prototype.setPluginAppID=function(t){return this.$PluginLoggedOutUserTypedLogger1.plugin_app_id=t,this},s.prototype.setPluginName=function(t){return this.$PluginLoggedOutUserTypedLogger1.plugin_name=t,this},s.prototype.setRefererURL=function(t){return this.$PluginLoggedOutUserTypedLogger1.referer_url=t,this},s.prototype.setVC=function(t){return this.$PluginLoggedOutUserTypedLogger1.vc=t,this},s.prototype.updateExtraData=function(t){return t=e("nullthrows")(e("GeneratedLoggerUtils").serializeMap(t)),e("GeneratedLoggerUtils").checkExtraDataFieldNames(t,a),this.$PluginLoggedOutUserTypedLogger1=babelHelpers["extends"]({},this.$PluginLoggedOutUserTypedLogger1,t),this},s.prototype.addToExtraData=function(t,e){var i={};return i[t]=e,this.updateExtraData(i)};var a={href:!0,is_sdk:!0,plugin_app_id:!0,plugin_name:!0,referer_url:!0,vc:!0};r.exports=s},null),__d("ArbiterFrame",[],function(t,e,i,n,r,o){var s={inform:function(t,e,i){var n,r=parent.frames,o=r.length;e.crossFrame=!0;for(var s=0;s<o;s++){n=r[s];try{if(!n||n==window)continue;n.require?n.require("Arbiter").inform(t,e,i):n.ServerJSAsyncLoader&&n.ServerJSAsyncLoader.wakeUp(t,e,i)}catch(a){}}}};r.exports=s},null),__d("FormSubmit",["AsyncRequest","AsyncResponse","CSS","DOMQuery","Event","Form","Parent","trackReferrer"],function(t,e,i,n,r,o){var s={send:function(t,i){var n=(e("Form").getAttribute(t,"method")||"GET").toUpperCase();i=e("Parent").byTag(i,"button")||i;var r=e("Parent").byClass(i,"stat_elem")||t;if(e("CSS").hasClass(r,"async_saving"))return null;if(i&&(i.form!==t||"INPUT"!=i.nodeName&&"BUTTON"!=i.nodeName||"submit"!=i.type)){var o=e("DOMQuery").scry(t,".enter_submit_target")[0];o&&(i=o)}var s=e("Form").serialize(t,i);e("Form").setDisabled(t,!0);var a=e("Form").getAttribute(t,"ajaxify")||e("Form").getAttribute(t,"action"),u=!!e("Form").getAttribute(t,"data-cors");e("trackReferrer")(t,a);var c=(new(e("AsyncRequest"))).setAllowCrossOrigin(u).setURI(a).setData(s).setNectarModuleDataSafe(t).setReadOnly("GET"==n).setMethod(n).setRelativeTo(t).setStatusElement(r).setInitialHandler(e("Form").setDisabled.bind(null,t,!1)).setHandler(function(i){e("Event").fire(t,"success",{response:i})}).setErrorHandler(function(i){e("Event").fire(t,"error",{response:i})!==!1&&e("AsyncResponse").defaultErrorHandler(i)}).setFinallyHandler(e("Form").setDisabled.bind(null,t,!1));return c.send(),c}};r.exports=s},null),__d("Popup",[],function(t,e,i,n,r,o){var s={open:function(t,e,i,n){var r=document.body,o="screenX"in window?window.screenX:window.screenLeft,s="screenY"in window?window.screenY:window.screenTop,a="outerWidth"in window?window.outerWidth:r.clientWidth,u="outerHeight"in window?window.outerHeight:r.clientHeight-22,c=Math.floor(o+(a-e)/2),l=Math.floor(s+(u-i)/2.5),d=["width="+e,"height="+i,"left="+c,"top="+l,"scrollbars"];return window.open(t,n||"_blank",d.join(","))}};r.exports=s},null),__d("PopupLink",["DOMEvent","DOMEventListener","Popup"],function(t,e,i,n,r,o){var s={listen:function(t,i,n){e("DOMEventListener").add(t,"click",function(r){new(e("DOMEvent"))(r).kill(),e("Popup").open(t.href,i,n)})}};r.exports=s},null),__d("PopupWindow",["DOMDimensions","DOMQuery","Layer","Popup","getViewportDimensions"],function(t,e,i,n,r,o){var s={_opts:{allowShrink:!0,strategy:"vector",timeout:100,widthElement:null},init:function(t){Object.assign(s._opts,t),setInterval(s._resizeCheck,s._opts.timeout)},_resizeCheck:function(){var t=e("getViewportDimensions")(),i=s._getDocumentSize(),n=e("Layer").getTopmostLayer();if(n){var r=n.getRoot().firstChild,o=e("DOMDimensions").getElementDimensions(r);o.height+=e("DOMDimensions").measureElementBox(r,"height",!0,!0,!0),o.width+=e("DOMDimensions").measureElementBox(r,"width",!0,!0,!0),i.height=Math.max(i.height,o.height),i.width=Math.max(i.width,o.width)}var a=i.height-t.height,u=i.width-t.width;if(u<0&&!s._opts.widthElement&&(u=0),u=u>1?u:0,!s._opts.allowShrink&&a<0&&(a=0),a||u)try{window.console&&window.console.firebug,window.resizeBy(u,a),u&&window.moveBy(u/-2,0)}catch(c){}},_getDocumentSize:function(){var i=e("DOMDimensions").getDocumentDimensions();if("offsetHeight"===s._opts.strategy&&(i.height=document.body.offsetHeight),s._opts.widthElement){var n=e("DOMQuery").scry(document.body,s._opts.widthElement)[0];n&&(i.width=e("DOMDimensions").getElementDimensions(n).width)}var r=t.Dialog;return r&&r.max_bottom&&r.max_bottom>i.height&&(i.height=r.max_bottom),i},open:function(t,i,n,r){return e("Popup").open(t,n,i,r)}};r.exports=s},null),__d("Queue",[],function(t,e,i,n,r,o){function s(t){"use strict";this._opts=babelHelpers["extends"]({interval:0,processor:null},t),this._queue=[],this._stopped=!0}var a={};s.prototype._dispatch=function(t){"use strict";if(!this._stopped&&0!==this._queue.length){if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=setTimeout(this._dispatch.bind(this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}},s.prototype.enqueue=function(t){"use strict";return this._opts.processor&&!this._stopped?this._opts.processor.call(this,t):this._queue.push(t),this},s.prototype.start=function(t){"use strict";return t&&(this._opts.processor=t),this._stopped=!1,this._dispatch(),this},s.prototype.isStarted=function(){"use strict";return!this._stopped},s.prototype.dispatch=function(){"use strict";this._dispatch(!0)},s.prototype.stop=function(t){"use strict";return this._stopped=!0,t&&clearTimeout(this._timeout),this},s.prototype.merge=function(t,e){"use strict";return this._queue[e?"unshift":"push"].apply(this._queue,t._queue),t._queue=[],this._dispatch(),this},s.prototype.getLength=function(){"use strict";return this._queue.length},s.get=function(t,e){"use strict";var i;return i=t in a?a[t]:a[t]=new s(e)},s.exists=function(t){"use strict";return t in a},s.remove=function(t){"use strict";return delete a[t]},r.exports=s},null),__d("TextInputControl",["DOMControl","Event","Input","debounce"],function(t,e,i,n,r,o){function s(t){"use strict";u.constructor.call(this,t);var i=this.getRoot(),n=e("debounce")(this.update.bind(this),0);e("Event").listen(i,{input:n,keydown:n,paste:n})}var a,u;a=babelHelpers.inherits(s,e("DOMControl")),u=a&&a.prototype,s.prototype.setMaxLength=function(t){"use strict";return e("Input").setMaxLength(this.getRoot(),t),this},s.prototype.getValue=function(){"use strict";return e("Input").getValue(this.getRoot())},s.prototype.isEmpty=function(){"use strict";return e("Input").isEmpty(this.getRoot())},s.prototype.setValue=function(t){"use strict";return e("Input").setValue(this.getRoot(),t),this.update(),this},s.prototype.clear=function(){"use strict";return this.setValue("")},s.prototype.setPlaceholderText=function(t){"use strict";return e("Input").setPlaceholder(this.getRoot(),t),this},r.exports=s},null),__d("transferTextStyles",["Style"],function(t,e,i,n,r,o){function s(t,i){for(var n in a)a.hasOwnProperty(n)&&(a[n]=e("Style").get(t,n));e("Style").apply(i,a)}var a={fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,lineHeight:null,wordWrap:null};r.exports=s},null),__d("TextMetrics",["DOM","Style","UserAgent","transferTextStyles"],function(t,e,i,n,r,o){function s(t){var i=t.clientWidth,n="border-box"==e("Style").get(t,"-moz-box-sizing");if(n&&e("UserAgent").isBrowser("Firefox < 29"))return i;var r=e("Style").getFloat(t,"paddingLeft")+e("Style").getFloat(t,"paddingRight");return i-r}function a(t,i){"use strict";this.$TextMetrics1=t,this.$TextMetrics2=!!i;var n="textarea",r="textMetrics";this.$TextMetrics2&&(n="div",r+=" textMetricsInline"),this.$TextMetrics3=e("DOM").create(n,{className:r}),e("transferTextStyles")(t,this.$TextMetrics3),document.body.appendChild(this.$TextMetrics3)}a.prototype.measure=function(t){"use strict";var i=this.$TextMetrics1,n=this.$TextMetrics3;if(t=(t||i.value)+"...",!this.$TextMetrics2){var r=s(i);e("Style").set(n,"width",Math.max(r,0)+"px")}return"TEXTAREA"===i.nodeName?n.value=t:e("DOM").setContent(n,t),{width:n.scrollWidth,height:n.scrollHeight}},a.prototype.destroy=function(){"use strict";e("DOM").remove(this.$TextMetrics3)},r.exports=a},null),__d("classWithMixins",[],function(t,e,i,n,r,o){function s(t,e){var i=function(){t.apply(this,arguments)};return i.prototype=Object.assign(Object.create(t.prototype),e.prototype),i}r.exports=s},null),__d("TextAreaControl",["Arbiter","ArbiterMixin","CSS","DOMControl","Event","Style","TextInputControl","TextMetrics","classWithMixins","mixin"],function(t,e,i,n,r,o){function s(t,i){return e("Style").getFloat(t,i)||0}function a(t){"use strict";c.constructor.call(this,t),this.autogrow=e("CSS").hasClass(t,"uiTextareaAutogrow"),this.autogrowWithPlaceholder=e("CSS").hasClass(t,"uiTextareaAutogrowWithPlaceholder"),this.width=null,e("Event").listen(t,"focus",this._handleFocus.bind(this))}var u,c;u=babelHelpers.inherits(a,e("classWithMixins")(e("TextInputControl"),e("mixin")(e("ArbiterMixin")))),c=u&&u.prototype,a.prototype.setAutogrow=function(t){"use strict";return this.autogrow=t,this},a.prototype.onupdate=function(){"use strict";c.onupdate.call(this),this.updateHeight()},a.prototype.updateHeight=function(){"use strict";if(this.autogrow){var t=this.getRoot();this.metrics||(this.metrics=new(e("TextMetrics"))(t)),"undefined"==typeof this.initialHeight&&(this.isBorderBox="border-box"===e("Style").get(t,"box-sizing")||"border-box"===e("Style").get(t,"-moz-box-sizing")||"border-box"===e("Style").get(t,"-webkit-box-sizing"),this.borderBoxOffset=s(t,"padding-top")+s(t,"padding-bottom")+s(t,"border-top-width")+s(t,"border-bottom-width"),this.initialHeight=t.offsetHeight-this.borderBoxOffset);var i=null;i=t.value&&0!==t.value.length||!this.autogrowWithPlaceholder?this.metrics.measure():this.metrics.measure(t.placeholder);var n=Math.max(this.initialHeight,i.height);this.isBorderBox&&(n+=this.borderBoxOffset),this.maxHeight&&n>this.maxHeight&&(n=this.maxHeight,e("Arbiter").inform("maxHeightExceeded",{textArea:t})),n!==this.height&&(this.height=n,e("Style").set(t,"height",n+"px"),e("Arbiter").inform("reflow"),this.inform("resize"))}else this.metrics&&(this.metrics.destroy(),this.metrics=null)},a.prototype.resetHeight=function(){"use strict";this.height=-1,this.update()},a.prototype.setMaxHeight=function(t){"use strict";this.maxHeight=t},a.prototype.setAutogrowWithPlaceholder=function(t){"use strict";this.autogrowWithPlacedholder=t},a.prototype._handleFocus=function(){"use strict";this.width=null},a.getInstance=function(t){"use strict";return e("DOMControl").getInstance(t)||new a(t)},r.exports=a},null),__d("Log",["sprintf"],function(t,e,i,n,r,o){function s(t,i){var n=Array.prototype.slice.call(arguments,2),r=e("sprintf").apply(null,n),o=window.console;o&&u.level>=i&&o[t in o?t:"log"](r)}var a={DEBUG:3,INFO:2,WARNING:1,ERROR:0},u={level:-1,Level:a,debug:s.bind(null,"debug",a.DEBUG),info:s.bind(null,"info",a.INFO),warn:s.bind(null,"warn",a.WARNING),error:s.bind(null,"error",a.ERROR)};r.exports=u},null),__d("resolveWindow",[],function(t,e,i,n,r,o){function s(t){var e=window,i=t.split(".");try{for(var n=0;n<i.length;n++){var r=i[n],o=/^frames\[['"]?([a-zA-Z0-9\-_]+)['"]?\]$/.exec(r);if(o)e=e.frames[o[1]];else{if("opener"!==r&&"parent"!==r&&"top"!==r)return null;e=e[r]}}}catch(s){return null}return e}r.exports=s},null),__d("XD",["Arbiter","DOM","DOMDimensions","Log","PHPQuerySerializer","URI","Queue","isFacebookURI","isInIframe","resolveWindow"],function(t,e,i,n,r,o){var s="fb_xdm_frame_"+location.protocol.replace(":",""),a={_callbacks:[],_opts:{autoResize:!1,allowShrink:!0,channelUrl:null,hideOverflow:!1,resizeTimeout:1e3,resizeWidth:!1,expectResizeAck:!1,resizeAckTimeout:6e3},_lastResizeAckId:0,_resizeCount:0,_resizeTimestamp:0,_shrinker:null,init:function(t){this._opts=babelHelpers["extends"]({},this._opts,t),this._opts.autoResize&&this._startResizeMonitor(),e("Arbiter").subscribe("Connect.Unsafe.resize.ack",function(t,e){e.id||(e.id=this._resizeCount),e.id>this._lastResizeAckId&&(this._lastResizeAckId=e.id)}.bind(this))},getQueue:function(){return this._queue||(this._queue=new(e("Queue"))),this._queue},setChannelUrl:function(t){this.getQueue().start(function(e){return this.send(e,t)}.bind(this))},send:function(t,i){if(i=i||this._opts.channelUrl,!i)return void this.getQueue().enqueue(t);var n={},r=new(e("URI"))(i);Object.assign(n,t,e("PHPQuerySerializer").deserialize(r.getFragment()));var o=new(e("URI"))(n.origin).getOrigin(),a=e("resolveWindow")(n.relation.replace(/^parent\./,"")),u=50,c=function l(){var t=a.frames[s];try{t.proxyMessage(e("PHPQuerySerializer").serialize(n),o)}catch(i){--u?setTimeout(l,100):e("Log").warn('No such frame "'+s+'" to proxyMessage to')}};c()},_computeSize:function(){var t=e("DOMDimensions").getDocumentDimensions(),i=0;if(this._opts.resizeWidth){var n=document.body;if(n.clientWidth<n.scrollWidth)i=t.width;else for(var r=n.childNodes,o=0;o<r.length;o++){var s=r[o],u=s.offsetLeft+s.offsetWidth;u>i&&(i=u)}i=Math.max(i,a.forced_min_width)}return t.width=i,this._opts.allowShrink&&(this._shrinker||(this._shrinker=e("DOM").create("div")),e("DOM").appendContent(document.body,this._shrinker),t.height=Math.max(this._shrinker.offsetTop,0)),t},_startResizeMonitor:function(){var t,i=document.documentElement;this._opts.hideOverflow&&(i.style.overflow="hidden",document.body.style.overflow="hidden");var n=function(){var i=this._computeSize(),n=Date.now(),r=this._lastResizeAckId<this._resizeCount&&n-this._resizeTimestamp>this._opts.resizeAckTimeout;if(!t||this._opts.expectResizeAck&&r||this._opts.allowShrink&&t.width!=i.width||!this._opts.allowShrink&&t.width<i.width||this._opts.allowShrink&&t.height!=i.height||!this._opts.allowShrink&&t.height<i.height){t=i,this._resizeCount++,this._resizeTimestamp=n;var o={type:"resize",height:i.height,ackData:{id:this._resizeCount}};i.width&&0!=i.width&&(o.width=i.width);try{if(e("isFacebookURI")(new(e("URI"))(document.referrer))&&e("isInIframe")()&&window.name&&window.parent.location&&window.parent.location.toString&&e("isFacebookURI")(new(e("URI"))(window.parent.location)))for(var s=window.parent.document.getElementsByTagName("iframe"),a=0;a<s.length;a+=1)s[a].name==window.name&&(this._opts.resizeWidth&&(s[a].style.width=o.width+"px"),s[a].style.height=o.height+"px");this.send(o)}catch(u){this.send(o)}}}.bind(this);n(),setInterval(n,this._opts.resizeTimeout)}},u=babelHelpers["extends"]({},a);r.exports.UnverifiedXD=u,r.exports.XD=a,t.UnverifiedXD=u,t.XD=a},null),__d("ImageTimingHelper",["Arbiter","BigPipe","URI"],function(t,e,i,n,r,o){var s={},a={};e("Arbiter").subscribe(e("BigPipe").Events.init,function(t,i){i.lid&&"0"!==i.lid&&i.arbiter.subscribe("images_displayed",function(t,i){var n=s[i.lid];n||(n=s[i.lid]=[]),i.images.forEach(function(t){try{var r=new(e("URI"))(t);t=r.setFragment("").toString()}catch(o){return}a[t]||(a[t]=!0,n.push({pagelet:i.pagelet,timeslice:i.timeslice,ts:i.ts,uri:t}))})})}),r.exports.getImageTimings=function(t){return s[t]||[]}},null),__d("PageletEventsHelper",["Arbiter","PageletEventConstsJS"],function(t,e,i,n,r,o){function s(){return{pagelets:{},categories:{},phase_start:{},display_resources:{},all_resources:{}}}function a(t,e,i,n){void 0==f[n].pagelets[e]&&(f[n].pagelets[e]={}),f[n].pagelets[e][t]=i}function u(t){t.subscribe(l,function(t,i){var n=i.event,r=i.ts,o=i.id,s=i.lid,u=i.phase,c=i.categories,l=i.allResources,d=i.displayResources;a(n,o,r,s);var h=f[s],g=h.pagelets[o];n===e("PageletEventConstsJS").ARRIVE_END&&(g.phase=u,h.all_resources[o]=l,h.display_resources[o]=d),n!==e("PageletEventConstsJS").ONLOAD_END&&n!==e("PageletEventConstsJS").DISPLAY_END||!c||c.forEach(function(t){void 0==h.categories[t]&&(h.categories[t]={}),h.categories[t][n]=r})}),t.subscribe(d,function(t,e){f[e.lid].phase_start[e.phase]=e.ts})}var c="BigPipe/init",l="pagelet_event",d="phase_begin",f={},h=!1,g={init:function(){h||(e("Arbiter").subscribe(c,function(t,e){var i=e.lid,n=e.arbiter;f[i]=s(),u(n)}),h=!0)},getMetrics:function(t){return f[t]?JSON.parse(JSON.stringify(f[t])):null}};r.exports=g},null),__d("Plugin",["Arbiter","ArbiterFrame"],function(t,e,i,n,r,o){var s={CONNECT:"platform/plugins/connect",DISCONNECT:"platform/plugins/disconnect",ERROR:"platform/plugins/error",RELOAD:"platform/plugins/reload",DIALOG:"platform/plugins/dialog",connect:function(t,i){var n={identifier:t,href:t,story_fbid:i};e("Arbiter").inform(s.CONNECT,n),e("ArbiterFrame").inform(s.CONNECT,n)},disconnect:function(t,i){var n={identifier:t,href:t,story_fbid:i};e("Arbiter").inform(s.DISCONNECT,n),e("ArbiterFrame").inform(s.DISCONNECT,n)},error:function(t,i){e("Arbiter").inform(s.ERROR,{action:t,content:i})},reload:function(t){e("Arbiter").inform(s.RELOAD,{reloadUrl:t||""}),e("ArbiterFrame").inform(s.RELOAD,{reloadUrl:t||""})},reloadOtherPlugins:function(t,i){e("ArbiterFrame").inform(s.RELOAD,{reloadUrl:"",reload:t||"",identifier:i||""})}};r.exports=s},null),__d("PluginCSSReflowHack",["Style"],function(t,e,i,n,r,o){var s={trigger:function(t){setTimeout(function(){var i="border-bottom-width",n=e("Style").get(t,i);e("Style").set(t,i,parseInt(n,10)+1+"px");var r=t.offsetHeight;return e("Style").set(t,i,n),r},1e3)}};r.exports=s},null),__d("StrSet",[],function(t,e,i,n,r,o){function s(t){"use strict";this.$StrSet2={},this.$StrSet1=0,t&&this.addAll(t)}s.prototype.add=function(t){"use strict";return this.$StrSet2.hasOwnProperty(t)||(this.$StrSet2[t]=!0,this.$StrSet1++),this},s.prototype.addAll=function(t){"use strict";return t.forEach(this.add,this),this},s.prototype.remove=function(t){"use strict";return this.$StrSet2.hasOwnProperty(t)&&(delete this.$StrSet2[t],this.$StrSet1--),this},s.prototype.removeAll=function(t){"use strict";return t.forEach(this.remove,this),this},s.prototype.toArray=function(){"use strict";return Object.keys(this.$StrSet2)},s.prototype.toMap=function(t){"use strict";var e={};return Object.keys(this.$StrSet2).forEach(function(i){e[i]="function"==typeof t?t(i):t||!0}),e},s.prototype.contains=function(t){"use strict";return this.$StrSet2.hasOwnProperty(t)},s.prototype.count=function(){"use strict";return this.$StrSet1},s.prototype.clear=function(){"use strict";return this.$StrSet2={},this.$StrSet1=0,this},s.prototype.clone=function(){"use strict";return new s(this)},s.prototype.forEach=function(t,e){"use strict";Object.keys(this.$StrSet2).forEach(t,e)},s.prototype.map=function(t,e){"use strict";return Object.keys(this.$StrSet2).map(t,e)},s.prototype.some=function(t,e){"use strict";return Object.keys(this.$StrSet2).some(t,e)},s.prototype.every=function(t,e){"use strict";return Object.keys(this.$StrSet2).every(t,e)},s.prototype.filter=function(t,e){"use strict";return new s(Object.keys(this.$StrSet2).filter(t,e))},s.prototype.union=function(t){"use strict";return this.clone().addAll(t)},s.prototype.intersect=function(t){"use strict";return this.filter(function(e){return t.contains(e)})},s.prototype.difference=function(t){"use strict";return t.filter(function(t){return!this.contains(t)}.bind(this))},s.prototype.equals=function(t){"use strict";var e=function(t,e){return t===e?0:t<e?-1:1},i=this.toArray(),n=t.toArray();if(i.length!==n.length)return!1;var r=i.length;for(i=i.sort(e),n=n.sort(e);r--;)if(i[r]!==n[r])return!1;return!0},r.exports=s},null),__d("PlatformBaseVersioning",["invariant","PlatformVersions","getObjectValues","StrSet"],function(t,e,i,n,r,o,s){function a(t,i){return i==e("PlatformVersions").versions.UNVERSIONED?t:(c.contains(i)||s(0),0!==t.indexOf("/")&&(t="/"+t),"/"+i+t)}function u(t){return c.contains(t.substring(1,t.indexOf("/",1)))?t.substring(t.indexOf("/",1)):t}var c=new(e("StrSet"))(e("getObjectValues")(e("PlatformVersions").versions)),l=location.pathname,d=l.substring(1,l.indexOf("/",1)),f=c.contains(d)?d:e("PlatformVersions").versions.UNVERSIONED,h={addVersionToPath:a,getLatestVersion:function(){return e("PlatformVersions").LATEST},versionAwareURI:function(t){return t.setPath(a(t.getPath(),f))},versionAwarePath:function(t){return a(t,f)},getUnversionedPath:u};r.exports=h},null),__d("PlatformWidgetEndpoint",["PlatformBaseVersioning"],function(t,e,i,n,r,o){function s(t,i){return e("PlatformBaseVersioning").versionAwarePath("/dialog/"+t+(i?"/"+i:""))}function a(t,i){return e("PlatformBaseVersioning").versionAwarePath("/plugins/"+t+(i?"/"+i:""))}function u(t){return/^\/plugins\//.test(e("PlatformBaseVersioning").getUnversionedPath(t))}function c(t){return/^\/dialog\//.test(e("PlatformBaseVersioning").getUnversionedPath(t))}var l={dialog:s,plugins:a,isPluginEndpoint:u,isDialogEndpoint:c};r.exports=l},null),__d("PluginFlyout",["csx","Arbiter","Button","CSS","DOM","DOMEvent","DOMEventListener","Focus","FormSubmit","Plugin","TextAreaControl"],function(t,e,i,n,r,o,s){function a(t,i,n){var r=this,o=c(e("Plugin").CONNECT,function(s,a){e("Arbiter").unsubscribe(o),r.init(t,i,n),r.connect(s,a)},u);c(e("Plugin").DIALOG,function(){r.init(t,i,n),r.toggle()},u)}var u=e("Arbiter").SUBSCRIBE_NEW,c=e("Arbiter").subscribe,l=e("Arbiter").inform,d=function(t,i){return e("DOMEventListener").add(t,"click",i)};Object.assign(a.prototype,{init:function(t,i,n){if(!this.initialized){this.initialized=!0,e("DOM").appendContent(t,JSON.parse(n));var r=e("DOM").find(t,"form"),o=e("DOM").find(r,"._56zw"),s=e("DOM").find(r,"._56zx"),l=e("DOM").find(r,"._42x4"),f=e("TextAreaControl").getInstance(l);e("DOMEventListener").add(l,"keyup",function(t){e("Button").setEnabled(o,!!f.getValue())}),e("DOMEventListener").add(window,"keydown",function(t){27===t.keyCode&&g()}),e("DOMEventListener").add(r,"submit",function(t){new(e("DOMEvent"))(t).kill(),e("FormSubmit").send(r)});var h="tiny"===i?e("DOM").find(document.body,".pluginPostFlyoutPrompt"):null;this.flyout=t,this.form=r,this.post_button=o,this.prompt=h;var g=this.hide.bind(this),p=this.show.bind(this);d(s,function(t){new(e("DOMEvent"))(t).kill(),g()}),h&&d(h,function(t){new(e("DOMEvent"))(t).kill(),p()}),c(e("Plugin").CONNECT,this.connect.bind(this),u),c(e("Plugin").DISCONNECT,function(){g()},u),c(a.SUCCESS,function(){g(),h&&e("CSS").hide(h)},u),c(e("Plugin").ERROR,function(t,i){"comment"===i.action&&(e("DOM").setContent(e("DOM").find(r,"._56zy"),i.content),e("CSS").hide(o))},u)}},connect:function(t,i){i.crossFrame||(this.prompt&&e("CSS").show(this.prompt),i.story_fbid||this.show())},show:function(){this.shown=!0,e("CSS").show(this.flyout),e("CSS").show(this.post_button);var t=e("DOM").scry(this.form,"._5jjo");t?e("Focus").set(t[0]):e("Focus").set(this.form.comment),l(a.SHOW)},hide:function(){this.shown=!1,e("CSS").hide(this.flyout),l(a.HIDE)},toggle:function(){this.shown?this.hide():this.show()}}),Object.assign(a,{SUCCESS:"platform/plugins/flyout/success",SHOW:"platform/plugins/flyout/show",HIDE:"platform/plugins/flyout/hide",success:function(){l(a.SUCCESS)}}),r.exports=a},null),__d("PluginMessage",["DOMEventListener"],function(t,e,i,n,r,o){var s={listen:function(){e("DOMEventListener").add(window,"message",function(t){if(/\.facebook\.com$/.test(t.origin)&&/^FB_POPUP:/.test(t.data)){var e=JSON.parse(t.data.substring(9));"reload"in e&&/^https?:/.test(e.reload)&&document.location.replace(e.reload)}})}};r.exports=s},null),__d("PluginOptin",["DOMEvent","DOMEventListener","PluginMessage","PopupWindow","URI","UserAgent_DEPRECATED","PlatformWidgetEndpoint","PluginLoggedOutUserTypedLogger"],function(t,e,i,n,r,o){function s(t,i){Object.assign(this,{return_params:e("URI").getRequestURI().getQueryData(),login_params:{},optin_params:{},plugin:t,api_key:i}),this.addReturnParams({ret:"optin"}),this.login_params.nux=!1,delete this.return_params.hash}Object.assign(s.prototype,{addReturnParams:function(t){return Object.assign(this.return_params,t),this},addLoginParams:function(t){return Object.assign(this.login_params,t),this},addOptinParams:function(t){return Object.assign(this.optin_params,t),this},start:function(){var t=this.api_key||0x7432769dc3ea,i=new(e("URI"))(e("PlatformWidgetEndpoint").dialog("plugin.optin")).addQueryData(this.optin_params).addQueryData({app_id:t,secure:e("URI").getRequestURI().isSecure(),social_plugin:this.plugin,return_params:JSON.stringify(this.return_params),login_params:JSON.stringify(this.login_params)});return e("UserAgent_DEPRECATED").mobile()?i.setSubdomain("m"):i.addQueryData({display:"popup"}),null!==this.return_params.act&&"send"===this.return_params.act&&(new(e("PluginLoggedOutUserTypedLogger"))).setPluginAppID(t).setPluginName(this.return_params.act).setHref(this.return_params.href).logVital(),this.popup=e("PopupWindow").open(i.toString(),420,450),e("PluginMessage").listen(),this}}),s.starter=function(t,e,i,n){var r=new s(t);return r.addReturnParams(e||{}),r.addLoginParams(i||{}),r.addOptinParams(n||{}),r.start.bind(r)},s.listen=function(t,i,n,r,o){e("DOMEventListener").add(t,"click",function(t){new(e("DOMEvent"))(t).kill(),s.starter(i,n,r,o)()})},r.exports=s},null),__d("PluginConnectButton",["csx","cx","Arbiter","CSS","DOM","DOMDimensions","DOMEvent","DOMEventListener","Focus","FormSubmit","PlatformWidgetEndpoint","Plugin","PluginConnectButtonType","PluginFlyout","PluginOptin","Style","URI","getElementPosition"],function(t,e,i,n,r,o,s,a){function u(t){this.config=t,this.busy=!1;var i=e("DOM").find(t.form,".pluginConnectButton");this.buttons=i,this.node_connected=e("DOM").find(i,".pluginConnectButtonConnected"),this.node_disconnected=e("DOM").find(i,".pluginConnectButtonDisconnected");var n=function(t){new(e("DOMEvent"))(t).kill(),this.busy||(this.submit(),this.busy=this.canpersonalize)}.bind(this);d(this.node_disconnected,n),t.buttontype===e("PluginConnectButtonType").BLUE_BASE?d(e("DOM").find(i,".pluginButtonX button"),n):t.buttontype===e("PluginConnectButtonType").WHITE_BASE&&d(this.node_connected,n),d(this.node_connected,function(t){return e("Arbiter").inform(e("Plugin").DIALOG,t)});var r=this.update.bind(this);l(e("Plugin").CONNECT,r,c),l(e("Plugin").DISCONNECT,r,c),l(e("Plugin").ERROR,this.error.bind(this),c),l("Connect.Unsafe.xd/reposition",this.flip.bind(this)),l(e("PluginFlyout").HIDE,this.hideFlyout.bind(this)),t.autosubmit&&setTimeout(this.submit.bind(this),0)}var c=e("Arbiter").SUBSCRIBE_NEW,l=e("Arbiter").subscribe,d=function(t,i){return e("DOMEventListener").add(t,"click",i)};Object.assign(u.prototype,{update:function(t,i){this.busy=!1;var n=this.config;if(i.identifier===n.identifier){var r=t===e("Plugin").CONNECT,o=e("PlatformWidgetEndpoint").plugins(n.plugin);o+="/"+(r?"disconnect":"connect"),e("CSS")[r?"show":"hide"](this.node_connected),e("CSS")[r?"hide":"show"](this.node_disconnected);try{if("button"===document.activeElement.nodeName.toLowerCase()){var s=r?this.node_connected:this.node_disconnected,a=e("DOM").find(s,"button");a.disabled=!1,e("Focus").set(a)}}catch(u){}n.connected=r,n.form.setAttribute("action",o),n.form.setAttribute("ajaxify",o)}},error:function(t,i){if(this.busy=!1,i.action in{connect:1,disconnect:1}){e("DOM").setContent(this.buttons,i.content);var n=e("DOM").scry(this.buttons,".confirmButton");1===n.length&&e("Focus").set(n[0])}},submit:function(){return this.config.canpersonalize?(e("FormSubmit").send(this.config.form),void this.fireStateToggle()):this.login()},fireStateToggle:function(){var t=this.config;t.connected?e("Plugin").disconnect(t.identifier):e("Plugin").connect(t.identifier)},login:function(){var t=this.config.plugin;new(e("PluginOptin"))(t,e("URI").getRequestURI().getQueryData().api_key).addReturnParams({act:"connect"}).addLoginParams({social_plugin_action:this.config.pluginaction}).start()},flip:function(t,i){var n=e("DOM").scry(document.body,"._4xn8");if(0!==n.length){n=n[0];var r,o=e("DOM").scry(this.config.form,".pluginConnectButtonConnected .pluginButtonIcon"),s="none"!==e("Style").get(o[0],"display")?o[0]:o[1],a=e("DOM").find(document.body,".pluginConnectButtonLayoutRoot");"reposition"===i.type?(e("CSS").addClass(a,"_1f8a"),e("Style").set(a,"padding-left",450-a.offsetWidth+"px"),e("CSS").removeClass(a,"_1f8b"),r=e("getElementPosition")(s).x+e("DOMDimensions").getElementDimensions(s).width/2-6):(e("CSS").addClass(a,"_1f8b"),e("Style").set(a,"padding-left","0px"),e("CSS").removeClass(a,"_1f8a"),r=6),e("Style").set(n,"left",r+"px")}},hideFlyout:function(){e("Focus").set(this.connected?this.node_disconnected:this.node_connected)}}),r.exports=u},null),__d("PluginConnection",["Arbiter","CSS","Plugin"],function(t,e,i,n,r,o){var s=function(){};Object.assign(s.prototype,{init:function(t,i,n,r){return r=r||e("Plugin").CONNECT,this.identifier=t,this.element=i,this.css=n,e("Arbiter").subscribe([e("Plugin").CONNECT,e("Plugin").DISCONNECT],function(o,s){return t===s.href&&e("CSS")[o===r?"addClass":"removeClass"](i,n),!0}),this},connected:function(){return e("CSS").hasClass(this.element,this.css);
},connect:function(){return e("Arbiter").inform(e("Plugin").CONNECT,{href:this.identifier},e("Arbiter").BEHAVIOR_STATE)},disconnect:function(){return e("Arbiter").inform(e("Plugin").DISCONNECT,{href:this.identifier},e("Arbiter").BEHAVIOR_STATE)},toggle:function(){return this.connected()?this.disconnect():this.connect()}}),s.init=function(t){for(var e,i=0;i<t.length;i++)e=new s,e.init.apply(e,t[i])},r.exports=s},null),__d("BanzaiLogger",["Banzai"],function(t,e,i,n,r,o){function s(t){return{log:function(i,n){e("Banzai").post(u._getRoute(i),n,t)},registerToSendWithBeacon:function(t,i,n,r){e("Banzai").registerToSendWithBeacon(u._getRoute(t),i,n,r)},_getRoute:function(t){return a+":"+t}}}var a="logger",u=s();u.create=s,r.exports=u},null),__d("BanzaiODS",["invariant","Banzai"],function(t,e,i,n,r,o,s){function a(){function t(t,e,r,o){if(void 0===r&&(r=1),void 0===o&&(o=1),t in n){if(n[t]<=0)return;r/=n[t]}var s=i[t]||(i[t]={}),a=s[e]||(s[e]=[0]);r=Number(r),o=Number(o),isFinite(r)&&isFinite(o)&&(a[0]+=r,arguments.length>=4&&(a[1]||(a[1]=0),a[1]+=o))}var i={},n={};return{setEntitySample:function(t,e){n[t]=Math.random()<e?e:0},bumpEntityKey:function(e,i,n){t(e,i,n)},bumpFraction:function(e,i,n,r){t(e,i,n,r)},flush:function(t){for(var n in i)e("Banzai").post("ods:"+n,i[n],t);i={}}}}var u=a();u.create=a,e("Banzai").subscribe(e("Banzai").SEND,u.flush.bind(u,null)),r.exports=u},null),__d("PluginPageActionLogger",["BanzaiLogger","BanzaiODS","DOM","Event","PagePluginActions","PagePluginActionTypes"],function(t,e,i,n,r,o){var s={initializeClickLoggers:function(t,i,n,r,o,s,a,u,c,l){var d=function(o,s){try{var a=e("DOM").find(r,"."+o);e("Event").listen(a,"click",function(r){e("BanzaiODS").bumpEntityKey("platform_www","platform.plugin.page.action"),e("BanzaiLogger").log("PagePluginActionsLoggerConfig",{page_id:i,page_plugin_action:s,page_plugin_action_type:e("PagePluginActionTypes").CLICK,referer_url:n,is_sdk:t})})}catch(u){}};d(o,e("PagePluginActions").PAGE_LIKE),d(s,e("PagePluginActions").PAGE_UNLIKE),d(a,e("PagePluginActions").PAGE_AVATAR),d(u,e("PagePluginActions").PAGE_PERMALINK),d(c,e("PagePluginActions").PAGE_SHARE),d(l,e("PagePluginActions").PAGE_CTA)}};r.exports=s},null),__d("UnverifiedXD",["XD"],function(t,e,i,n,r,o){var s=e("XD").UnverifiedXD;r.exports=s},null),__d("PluginResize",["Locale","Log","UnverifiedXD","getOffsetParent","getStyleProperty"],function(t,e,i,n,r,o){function s(t){t=t||document.body;var i=0,n=e("getOffsetParent")(t);return e("Locale").isRTL()&&n?i=n.offsetWidth-t.offsetLeft-t.offsetWidth:e("Locale").isRTL()||(i=t.offsetLeft),a(t)+i}function a(t){return Math.ceil(parseFloat(e("getStyleProperty")(t,"width")))||t.offsetWidth}function u(t){return t=t||document.body,t.offsetHeight+t.offsetTop}function c(t,e,i,n){this.calcWidth=t||s,this.calcHeight=e||u,this.width=void 0,this.height=void 0,this.reposition=!!n,this.event=i||"resize"}Object.assign(c.prototype,{resize:function(){var t=this.calcWidth(),i=this.calcHeight();return t===this.width&&i===this.height||(e("Log").debug("Resizing Plugin: (%s, %s, %s, %s)",t,i,this.event,this.reposition),this.width=t,this.height=i,e("UnverifiedXD").send({type:this.event,width:t,height:i,reposition:this.reposition})),this},auto:function(t){return setInterval(this.resize.bind(this),t||250),this}}),c.auto=function(t,e,i){return new c(s.bind(null,t),u.bind(null,t),e).resize().auto(i)},c.autoHeight=function(t,e,i,n){return new c(function(){return t},u.bind(null,e),i).resize().auto(n)},c.getElementWidth=a,r.exports=c},null),__d("PluginReturn",["invariant","Arbiter","Log","PlatformDialog","Plugin","URI","PlatformWidgetEndpoint"],function(t,e,i,n,r,o,s){e("Arbiter").subscribe(e("PlatformDialog").RESPONSE,function(t,i){return i.error_code?void e("Log").debug("Plugin Return Error (%s): %s",i.error_code,i.error_message||i.error_description):void e("Plugin").reload(i.plugin_reload)});var a={auto:function(){e("Arbiter").subscribe(e("Plugin").RELOAD,function(t,e){var i="object"==typeof e?e.reloadUrl:e;a.reload(i)})},syncPlugins:function(){e("Arbiter").subscribe(e("Plugin").RELOAD,function(t,e){e.crossFrame&&a.reload(e.reloadUrl,e.reload,e.identifier)})},reload:function u(t,u,i){var n=e("URI").getRequestURI().removeQueryData("ret").removeQueryData("act").removeQueryData("hash").addQueryData("reload",u).addQueryData("id",i);if(t){var u=new(e("URI"))(t);e("PlatformWidgetEndpoint").isPluginEndpoint(u.getPath())||s(0),n.setPath(u.getPath()).addQueryData(u.getQueryData())}window.location.replace(n.toString())}};r.exports=a},null),__d("PluginXDReady",["Arbiter","UnverifiedXD"],function(t,e,i,n,r,o){var s={handleMessage:function(t){if(t.method)try{e("Arbiter").inform("Connect.Unsafe."+t.method,JSON.parse(t.params),e("Arbiter").BEHAVIOR_PERSISTENT)}catch(i){}}};t.XdArbiter=s,e("UnverifiedXD").send({xd_action:"plugin_ready",name:window.name}),r.exports=null},null),__d("areJSONRepresentationsEqual",[],function(t,e,i,n,r,o){function s(t,e){return JSON.stringify(t)==JSON.stringify(e)}r.exports=s},null),__d("UIForm",["ArbiterMixin","BehaviorsMixin","DOM","Event","Form","Run","areJSONRepresentationsEqual","mixin"],function(t,e,i,n,r,o){function s(t,i,n,r,o){"use strict";u.constructor.call(this),this._root=t,this.controller=t,this._message=i,r&&(this._confirm_dialog=r,r.subscribe("confirm",this._handleDialogConfirm.bind(this)),e("DOM").prependContent(this._root,e("DOM").create("input",{type:"hidden",name:"confirmed",value:"true"}))),e("Run").onAfterLoad(function(){this._originalState=e("Form").serialize(this._root)}.bind(this)),this._forceDirty=n,this._confirmed=!1,this._submitted=!1,e("Event").listen(this._root,"submit",this._handleSubmit.bind(this)),o&&o.length&&this.enableBehaviors(o);var s=!0;e("Run").onBeforeUnload(this.checkUnsaved.bind(this),s)}var a,u;a=babelHelpers.inherits(s,e("mixin")(e("ArbiterMixin"),e("BehaviorsMixin"))),u=a&&a.prototype,s.prototype.getRoot=function(){"use strict";return this._root},s.prototype._handleSubmit=function(){"use strict";return this._confirm_dialog&&!this._confirmed?(this._confirm_dialog.show(),!1):this.inform("submit")!==!1&&(this._submitted=!0,!0)},s.prototype._handleDialogConfirm=function(){"use strict";this._confirmed=!0,this._confirm_dialog.hide(),this._root.getAttribute("ajaxify")?e("Event").fire(this._root,"submit"):this._handleSubmit()&&this._root.submit()},s.prototype.reset=function(){"use strict";this.inform("reset"),this._submitted=!1,this._confirmed=!1},s.prototype.isDirty=function(){"use strict";if(this._submitted||!e("DOM").contains(document.body,this._root))return!1;if(this._forceDirty)return!0;if(!this._originalState)return!1;var t=e("Form").serialize(this._root);return!e("areJSONRepresentationsEqual")(t,this._originalState)},s.prototype.checkUnsaved=function(){"use strict";return this.isDirty()?this._message:null},r.exports=t.UIForm||s},null),__d("ReactSpeedHelper",["LogBuffer","ReactDOM"],function(t,e,i,n,r,o){var s={enableRenderMeasurements:function(){e("ReactDOM").enableRenderMeasurements&&e("ReactDOM").enableRenderMeasurements()},getMetrics:function(t,i){return e("LogBuffer").read("react_speed").filter(function(e){return(null==t||e.begin>=t)&&(null==i||e.end<=i)})}};r.exports=s},null),__d("JSResourceReference",["Promise","Bootloader"],function(t,e,i,n,r,o){function s(t){"use strict";this.$JSResourceReference1=t}s.prototype.getModuleId=function(){"use strict";return this.$JSResourceReference1},s.prototype.load=function(){"use strict";return new(e("Promise"))(function(t){e("Bootloader").loadModules.call(e("Bootloader"),[this.$JSResourceReference1],t,this.$JSResourceReference2||"JSResource: unknown caller")}.bind(this))},s.prototype.equals=function(t){"use strict";return this===t||this.$JSResourceReference1==t.$JSResourceReference1},s.prototype.__setRef=function(t){"use strict";return this.$JSResourceReference2=t,this},s.loadAll=function(t,i){"use strict";for(var n={},r=!1,o=t,s=Array.isArray(o),a=0,o=s?o:o["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if(a=o.next(),a.done)break;u=a.value}var c=u,l=c.$JSResourceReference2;l&&(r=!0,n[l]=!0)}e("Bootloader").loadModules.call(e("Bootloader"),t.map(function(t){return t.getModuleId()}),i,r?Object.keys(n).join(":"):"JSResource: unknown caller")},r.exports=s},null),__d("sourceMetaToString",[],function(t,e,i,n,r,o){function s(t,e){var i;return t.name?(i=t.name,t.module&&(i=t.module+"."+i)):t.module&&(i=t.module+".<anonymous>"),e&&t.line&&(i=(i?i:"<anonymous>")+":"+t.line,t.column&&(i+=":"+t.column)),i}r.exports=s},null),__d("NavigationTimingHelper",["NavigationMetricsEnumJS","forEachObject","performance"],function(t,e,i,n,r,o){function s(t,i){var n={};return e("forEachObject")(e("NavigationMetricsEnumJS"),function(e){var r=i[e];r&&(n[e]=r+t)}),n}var a={getAsyncRequestTimings:function(t){if(t&&e("performance").timing&&e("performance").getEntriesByName){var i=e("performance").getEntriesByName(t);if(0!==i.length)return s(e("performance").timing.navigationStart,i[0])}},getNavTimings:function(){if(e("performance").timing)return s(0,e("performance").timing)}};r.exports=a},null),__d("ResourceTimingBootloaderHelper",["Bootloader","ResourceTimingMetricsEnumJS","ImageTimingHelper","URI","forEachObject","isEmpty","performance"],function(t,e,i,n,r,o){function s(t){for(var e=g,i=Array.isArray(e),n=0,e=i?e:e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var r;if(i){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var o=r;if(t.endsWith(o))return!0}return!1}function a(t,i,n,r,o,a){if(e("performance").timing&&e("performance").getEntriesByType){var f={};n&&(f=e("ImageTimingHelper").getImageTimings(r).sort(function(t,e){return t.ts-e.ts}).reduce(function(t,e){return t[e.uri]?t:(t[e.uri]=e.pagelet,t)},{}));for(var g=e("performance").getEntriesByType("resource"),p=0,_=0,m=0,v=0,E=0;E<g.length;E++){var b=g[E];if(!(b.duration<=0||b.startTime<i||null!=o&&null!=b.responseEnd&&o<b.responseEnd)){var S="",y="",T="",A="",O="",D=b.initiatorType;switch(D){case"css":case"link":case"script":var R=d(b.name);if(y=R[0],S=R[1],!y||!S)continue;if("css"===S||"js"===S){A=S;var P=h[b.name]||_++;T=P+"_"+y}else{var C=l(b.name);O=C[0],A=C[1],T=p++ +"_"+O}break;case"img":T=p++ +"_"+u(b.name),A="img";break;case"iframe":T=m++ +"_"+u(b.name)+c(b.name),A="iframe";break;case"xmlhttprequest":if(a){var w=u(b.name),I=c(b.name);if(s(I)){T=v++ +"_"+w+I,A="video";break}}default:continue}void 0==t[b.name]&&(t[b.name]=[]);var N={};e("forEachObject")(e("ResourceTimingMetricsEnumJS"),function(t){var i=b[t];i&&(N[t]=i+e("performance").timing.navigationStart)}),N.type=A,N.desc=T,"img"==A&&f.hasOwnProperty(b.name)&&(N.pagelet=f[b.name]),N.transferSize=b.transferSize,N.encodedBodySize=b.encodedBodySize,t[b.name].push(N)}}}}function u(t){var i=new(e("URI"))(t).getDomain();return i}function c(t){var i=new(e("URI"))(t).getPath();return i}function l(t){return[u(t),"img"]}function d(t){var e=t.match(/\/rsrc\.php\/.*\/([^\?]+)/);if(!e)return[];var i=e[1],n="",r=i.match(/\.(\w+)$/);return r&&(n=r[1]),[i,n]}var f={},h={},g=[".mp4",".m4v",".mpd","m4a"],p={addBootloaderMetricsToResourceTimings:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]||arguments[2];e("isEmpty")(h)&&(h=e("Bootloader").getURLToHashMap());var r={};e("forEachObject")(h,function(t,e){r[t]=e});var o={bootload:!0,js_exec:!0,start_bootload:!0,tag_bootload:!0},s=[];return e("forEachObject")(i,function(e,i){var n=i.indexOf("/");if(n!==-1){var a=i.substring(0,n);if(o[a]){s.push(i);var u=i.substring(n+1),c=r[u];(c||(c=u,u=h[c]))&&(c.startsWith("data:")&&(c="inlined resource: "+u),null==t[c]&&(t[c]=[{}]),t[c].forEach(function(t){t.bootloader_hash=u,t[a]=e}))}}}),n||s.forEach(function(t){return delete i[t]}),t},getLastTTIAndE2EImageResponseEnds:function(t,i,n){var r={TTI:t,E2E:i};if(!e("performance").timing)return r;var o=n.filter(function(e){return e.ts<=t}).map(function(t){return t.uri}).reduce(function(t,e){return t[e]=!0,t},{}),s=n.map(function(t){return t.uri}).reduce(function(t,e){return t[e]=!0,t},{});for(var a in f)f[a].forEach(function(t){"img"===t.type&&(o[a]&&(r.TTI=Math.max(r.TTI,t.responseEnd)),s[a]&&(r.E2E=Math.max(r.E2E,t.responseEnd)))});return r},getMetrics:function(t,i,n,r,o){return f={},e("isEmpty")(h)&&(h=e("Bootloader").getURLToHashMap()),a(f,t,i,n,r,o),f}};r.exports=p},null),__d("TimeSliceHelper",["ArtilleryExperiments","LogBuffer","Map","ReactSpeedHelper","sourceMetaToString","forEachObject"],function(t,e,i,n,r,o){var s=function(t,e){return Math.round(1e3*(t-e))},a={formatMetricsForTransport:function(t){var i=[],n=[],r=[],o=[],a=new(e("Map")),u=new(e("Map")),c=0,l=function(t,e,i){var n=void 0;return e.has(t)?n=e.get(t):(n=i.length,e.set(t,n),i.push(t)),n},d=[];return null!=t&&t.forEach(function(t){var e=s(t.begin,c),f=s(t.end,t.begin);c=t.end;var h=l(t.name,a,i),g=[e,f,h];if(null!=t.activeRefTreeIds){var p=t.activeRefTreeIds.slice();p.unshift(d.length),o.push(p)}var _=t.counters||{},m=Object.keys(_).filter(function(t){return 0!==_[t]}).sort(),v=void 0;if(m.length>0){var E=m.join(),b=l(E,u,r);v=m.map(function(t){return _[t]}),v.unshift(b)}else v=[];t.id&&g.push(t.id),t.parentID&&g.push(t.parentID),d.push(g),n.push(v)}),{version:"compact",items:d,names:i,counters:n,counterSchemas:r,allActiveRefTreeIds:o}},getMetrics:function(t,i,n,r,o){var s,a=e("LogBuffer").read("time_slice"),u=e("LogBuffer").read("time_slice_heartbeat"),c=e("ReactSpeedHelper").getMetrics().map(function(t){return babelHelpers["extends"]({},t,{desc:"React["+t.name+"]"})}),l=a.concat(u,c),d=[],f=function(t){var i;if(t.guard){var n=e("sourceMetaToString")(t),r=t.guard.toString();i=n?r+" at "+n:r}else i=t.desc?t.desc:"JS["+t.count+"]";var s={begin:t.begin,end:t.end,name:i,counters:t.counters,activeRefTreeIds:o?t.activeRefTreeIds:[]};e("ArtilleryExperiments").artillery_timeslice_edges&&(s.id=t.id,s.parentID=t.parentID),d.push(s)},h=function(){s&&f(1==s.count?s.first:s),s=null},g=function(t,i){e("forEachObject")(i,function(e,i){var n=t[i]||0;t[i]=n+e})};return l.sort(function(t,e){return t.begin!==e.begin?t.begin-e.begin:t.end!==e.end?t.end-e.end:0}).forEach(function(e){t&&e.end<t||i&&e.begin>i||(e.end-e.begin<n?s&&e.begin-s.end<r?(s.end=e.end,s.count++,g(s.counters,e.counters),e.activeRefTreeIds&&s.activeRefTreeIds.concat(e.activeRefTreeIds)):(h(),s={begin:e.begin,end:e.end,count:1,first:e,guard:!1,id:void 0,parentID:void 0,counters:{},activeRefTreeIds:[]}):(h(),f(e)))}),h(),d}};r.exports=a},null),__d("PerfXFlusher",["invariant","Banzai"],function(t,e,i,n,r,o,s){function a(t){c.forEach(function(e){return s(e in t,'PerfXFlusher: Field "%s" missing in the PerfX payload',e)})}var u="perfx_custom_logger_endpoint",c=["perfx_page","perfx_page_type","lid"],l={flush:function(t){a(t),e("Banzai").post(u,t,{signal:!0})},registerToSendWithBeacon:function(t){e("Banzai").registerToSendWithBeacon(u,t)}};r.exports=l},null),__d("DataAttributeUtils",["DataStore","Parent"],function(t,e,i,n,r,o){var s=[],a={LEGACY_CLICK_TRACKING_ATTRIBUTE:"data-ft",CLICK_TRACKING_DATASTORE_KEY:"data-ft",ENABLE_STORE_CLICK_TRACKING:"data-fte",IMPRESSION_TRACKING_CONFIG_ATTRIBUTE:"data-xt-vimp",IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY:"data-xt-vimp",REMOVE_LEGACY_TRACKING:"data-ftr",getDataAttribute:function(t,e){return u[e]?u[e](t):t.getAttribute(e)},setDataAttribute:function(t,e,i){return c[e]?c[e](t,i):t.setAttribute(e,i)},getDataFt:function(t){if(t.getAttribute(a.ENABLE_STORE_CLICK_TRACKING)){var i=e("DataStore").get(t,a.CLICK_TRACKING_DATASTORE_KEY);return i||(i=a.moveClickTrackingToDataStore(t,t.getAttribute(a.REMOVE_LEGACY_TRACKING))),i}return t.getAttribute(a.LEGACY_CLICK_TRACKING_ATTRIBUTE)},setDataFt:function(t,i){return t.getAttribute(a.ENABLE_STORE_CLICK_TRACKING)?void e("DataStore").set(t,a.CLICK_TRACKING_DATASTORE_KEY,i):void t.setAttribute(a.LEGACY_CLICK_TRACKING_ATTRIBUTE,i)},moveXTVimp:function(t){a.moveAttributeToDataStore(t,a.IMPRESSION_TRACKING_CONFIG_ATTRIBUTE,a.IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY),s.push(t.id)},getXTrackableElements:function(){for(var t=s.map(function(t){return document.getElementById(t)}).filter(function(t){return!!t}),e=document.querySelectorAll("[data-xt-vimp]"),i=0;i<e.length;i++)t.push(e[i]);return t},getDataAttributeGeneric:function(t,i,n){var r=e("DataStore").get(t,n);return void 0!==r?r:t.getAttribute(i)},moveAttributeToDataStore:function(t,i,n){var r=t.getAttribute(i);r&&(e("DataStore").set(t,n,r),t.removeAttribute(i))},moveClickTrackingToDataStore:function(t,i){var n=t.getAttribute(a.LEGACY_CLICK_TRACKING_ATTRIBUTE);return n&&(e("DataStore").set(t,a.CLICK_TRACKING_DATASTORE_KEY,n),i&&t.removeAttribute(a.LEGACY_CLICK_TRACKING_ATTRIBUTE)),n},getClickTrackingParent:function(t){var i=e("Parent").byAttribute(t,a.LEGACY_CLICK_TRACKING_ATTRIBUTE)||e("Parent").byAttribute(t,a.ENABLE_STORE_CLICK_TRACKING);return i},getClickTrackingElements:function(t){return t.querySelectorAll("["+a.LEGACY_CLICK_TRACKING_ATTRIBUTE+"], ["+a.ENABLE_STORE_CLICK_TRACKING+"]")},getParentByAttributeOrDataStoreKey:function(t,i,n){for(;t&&(!t.getAttribute||!t.getAttribute(i))&&void 0===e("DataStore").get(t,n);)t=t.parentNode;return t}},u={"data-ft":a.getDataFt,"data-xt-vimp":function(t){return a.getDataAttributeGeneric(t,"data-xt-vimp","data-xt-vimp")},"data-ad":function(t){return a.getDataAttributeGeneric(t,"data-ad","data-ad")},"data-xt":function(t){return a.getDataAttributeGeneric(t,"data-xt","data-xt")}},c={"data-ft":a.setDataFt,"data-xt":function(t,i){e("DataStore").set(t,"data-xt",i)}};r.exports=a},null),__d("pageLoadedViaSWCache",[],function(t,e,i,n,r,o){function s(){return 1===self.__SW_CACHE__}r.exports=s},null),__d("PerfXLogger",["DataAttributeUtils","PerfXFlusher","NavigationMetrics","NavigationTimingHelper","Set","forEachObject","performanceAbsoluteNow","setTimeoutAcrossTransitions","pageLoadedViaSWCache"],function(t,e,i,n,r,o){var s={},a={},u=65e3,c=["e2e","tti","all_pagelets_displayed","all_pagelets_loaded"],l={},d={_listenersSetUp:!1,_setupListeners:function(){this._listenersSetUp||(this._subscribeToNavigationMetrics(),e("PerfXFlusher").registerToSendWithBeacon(function(){var t=[];return e("forEachObject")(s,function(e,i){if(!s[i].sent){var n=this.getPayload(i,"unload fired");null!=n&&t.push(n)}}.bind(this)),s={},t}.bind(this)),this._listenersSetUp=!0)},_init:function(t){var i=t.lid;if(null!=i){var n=a[i];delete a[i],s[i]=babelHelpers["extends"]({tags:new(e("Set"))(n||[]),sent:!1},t),this._registerTimeoutSendback(i),this._setupListeners()}},initWithNavigationMetricsLID:function(t,i){var n=e("NavigationMetrics").getFullPageLoadLid();if(n){if(this._init(babelHelpers["extends"]({},i,{lid:n})),t&&t.always)for(var r=0;r<t.always.length;r++)d.addTag(n,t.always[r]);if(t&&t.swCache&&e("pageLoadedViaSWCache")())for(var o=0;o<t.swCache.length;o++)d.addTag(n,t.swCache[o])}},init:function(t,e){null!=e&&null!=t.lid&&(l[t.lid]=e),this._init(t)},addTag:function(t,e){var i=s[t];return i?void i.tags.add(e):(a[t]||(a[t]=[]),void a[t].push(e))},addTagWithNavigationMetricsLID:function(t){var i=e("NavigationMetrics").getFullPageLoadLid();i&&d.addTag(i,t)},_registerTimeoutSendback:function(t){var i=this._getFetchStart(t),n=u;null!=i&&(n-=e("performanceAbsoluteNow")()-i),e("setTimeoutAcrossTransitions")(function(){return this._uploadPayload(t,"sendback time out")}.bind(this),n)},_subscribeToNavigationMetrics:function(){e("NavigationMetrics").addRetroactiveListener(e("NavigationMetrics").Events.EVENT_OCCURRED,function(t,e){t in s&&c.includes(e.event)&&e.hasOwnProperty("timestamp")&&null!=e.timestamp&&(s[t][e.event]=e.timestamp,e.visibilityState&&(s[t][e.event+"_page_visibility"]=e.visibilityState))}),e("NavigationMetrics").addRetroactiveListener(e("NavigationMetrics").Events.NAVIGATION_DONE,function(t,e){var i=e.serverLID;i in s&&(c.forEach(function(t){e.hasOwnProperty(t)&&null!=e[t]&&(s[i][t]=e[t])}),this._uploadPayload(i))}.bind(this))},_getPayloadWithOffset:function(t,i,n){var r=s[t];if(null==r)return null;var o=Object.assign({},r),a=document.querySelector('[id^="hyperfeed_story_id"]');if(a){var u=JSON.parse(e("DataAttributeUtils").getDataFt(a));u&&(o.mf_query_id=u.qid)}if(o.tags=Array.from(r.tags),this._adjustValues(o,i),o.fetch_start=i,"normal"===o.perfx_page_type){var c=e("NavigationTimingHelper").getNavTimings();null!=c&&null!=c.navigationStart&&(o.nav_to_fetch=i-c.navigationStart)}return null!=n&&(o.sendback_reason=n),delete o.sent,o},_uploadPayload:function(t,i){if(null!=s[t]&&!s[t].sent){var n=this.getPayload(t,i);null!=n&&(e("PerfXFlusher").flush(n),s[t].sent=!0)}},getPayload:function(t,e){return this._getPayloadWithOffset(t,this._getFetchStart(t),e)},_getFetchStart:function(t){if(!(t in s))return null;var i=void 0,n=s[t].perfx_page_type;if("quickling"==n){if(!(t in l))return null;i=e("NavigationTimingHelper").getAsyncRequestTimings(l[t])}else i=e("NavigationTimingHelper").getNavTimings();return i&&i.fetchStart?i.fetchStart:null},_adjustValues:function(t,e){c.forEach(function(i){t.hasOwnProperty(i)&&(t[i]-=e)})}};r.exports=d},null);
//# sourceMappingURL=maps/Xw9VNcnTyYg.js.map
